<!DOCTYPE html>
<html lang="en-us"
  dir="ltr">

<head>
  <head>
    <script defer src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script>


    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4F8KTHDP9M"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-4F8KTHDP9M');
    </script>
    
    
    
    <title>Ray Peat on magnesium</title>
    <meta charset="utf-8">
    <meta name="description" content="Explore the wisdom of Ray Peat by topics    " />
    <meta name="dc.relation" content="https://raypeatexplained.com" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#1A94D2" />

    

    
    <link rel="stylesheet" href="../css/styles.min.css" media="screen">

    
    <link rel='shortcut icon' type='image/x-icon' href='../favicon.ico' />
    
    <script src="https://www.gstatic.com/firebasejs/10.5.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.5.2/firebase-firestore-compat.js"></script>

    <style>
         
        .search-box {
            margin-bottom: 20px;
            text-align: center;
        }

        .search-box input {
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ddd;
            min-width: calc(50% - 20px);
             
        }

        .highlight {
            background-color: yellow;
             
        }
    </style>

</head>
</head>

<body>


  <header class="">
          <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
          <a class="navbar-brand" href="https://raypeatexplained.com/">Ray Peat Explained</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link  " href="https://raypeatexplained.com/">Home</a>              </li>

              
              
          </div>
        </div>
      </nav>

  </header>
  <div class="container-fluid">
    <main>
      


<div class="container pb-5 mt-4">
  <h1 class="mb-3" style="text-transform: capitalize;">Ray Peat on magnesium</h1>
  
  
  
  
  <div class="search-box">
    <button class="btn btn-primary" id="sort-by-popularity">Sort by popularity</button>

    <input type="text" id="quoteSearch" placeholder="Search quotes...">
  </div>

 

  


  <div id="quotesContainer"> 
  <p>
<div class="quote"  data-upvotes="0" data-quote-id="44203635730687058283386808796794238825">
    <div id='44203635730687058283386808796794238825' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">Overlooked Nutritional Factors in Infertility</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"Too much carotene, too little vitamin A, not enough magnesium or sodium, and too much cortisol are commonly overlooked factors in infertility."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Generative Energy  Restoring The Wholeness Of Life</p>
        <button class="upvote-button" onclick="upvote('44203635730687058283386808796794238825')">Upvote</button>
          <span class="upvote-counter" id="44203635730687058283386808796794238825-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('44203635730687058283386808796794238825');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="120635951764556869695209298818981216798">
    <div id='120635951764556869695209298818981216798' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">Sodium&#39;s Impact on Magnesium Retention During Stress</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"One of the most important effects of sodium is that it tends to spare magnesium, which is likely to be lost during stress and hypothyroidism. If we eat salty foods when we crave them, we are able to retain our magnesium more easily."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('120635951764556869695209298818981216798')">Upvote</button>
          <span class="upvote-counter" id="120635951764556869695209298818981216798-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('120635951764556869695209298818981216798');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="150792588465175359873215629246024742277">
    <div id='150792588465175359873215629246024742277' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">Substances Opposing Estrogen in Cancer Therapy</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"Anything which produces tissue atrophy will tend to produce cancer. The important question is, what will induce differentiation and useful function in cancer cells? There are many substances which promote differentiation and oppose the effects of estrogen, and some of these have been found to be useful in cancer therapy. Among the substances opposing estrogen are dopamine and nickel, prolactin inhibitors; chalones, the tissue specific proteins which inhibit cell division (and possibly more ephemerally, the peptides of memory); the aprotic solvents, DMF and possibly DMSO; progesterone and testosterone; thyroxin and iodine; magnesium ATP, the stable form of the biological energy molecule; vitamin A, a protein-sparing nutrient which promotes differentiation, and vitamin E (and the closely related coenzyme Q, or ubiquinone)."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('150792588465175359873215629246024742277')">Upvote</button>
          <span class="upvote-counter" id="150792588465175359873215629246024742277-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('150792588465175359873215629246024742277');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="310726909011316621544370031870989115616">
    <div id='310726909011316621544370031870989115616' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">Magnesium&#39;s Sedative Effect and Its Sexual Health Benefits</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"Magnesium has a very powerful sedative — even anesthetic — effect, which seems to be especially favorable to healthy sexuality. I suspect that it will eventually be known as an antiestrogenic mineral, and, with zinc, may turn out to be effective in a wide variety of sex-related problems."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('310726909011316621544370031870989115616')">Upvote</button>
          <span class="upvote-counter" id="310726909011316621544370031870989115616-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('310726909011316621544370031870989115616');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="77190396765068939936879709712216680192">
    <div id='77190396765068939936879709712216680192' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">The Impact of Vitamin E Deficiency on Tissue Function</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"In a vitamin E deficiency, certain tissues lose enough ATP that they cant function normally. Muscles cramp, and eventually can harden and become dystrophic. Magnesium also helps to maintain ATP levels, and for example can be used to stop menstrual cramps. In an extreme case of vitamin E deficiency, reflexes become abnormal; in some animals, softening of the brain is the first symptom of a vitamin E deficiency."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('77190396765068939936879709712216680192')">Upvote</button>
          <span class="upvote-counter" id="77190396765068939936879709712216680192-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('77190396765068939936879709712216680192');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="74499314157838116786722311799532215084">
    <div id='74499314157838116786722311799532215084' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">Stress Management Through Nutritional and Environmental Correction</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"In general, stress should be met first by correcting the defect, which may be environmental or nutritional. Increased nutritional needs usually include protein and fat; acute hypoglycemia may require a large amount of sugar, and this suggests that the adrenals may be depleted, in which case pantothenic acid, vitamin C, vitamin A, magnesium and potassium should be provided in addition to other nutrients."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('74499314157838116786722311799532215084')">Upvote</button>
          <span class="upvote-counter" id="74499314157838116786722311799532215084-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('74499314157838116786722311799532215084');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="250732166217104957221890141696821454069">
    <div id='250732166217104957221890141696821454069' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">The Long-term Pancreatic Damage Due to Malnutrition and Deficiencies</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"The pancreas can be damaged by prolonged malnutrition, so that the inability to produce insulin may be permanent. Magnesium and vitamin B6 deficiencies are known to be involved in damage to the pancreas. Insulin itself is only part of the insulin-like system (Adv in Metabol Disorders 7, p.26, 1974); proper treatment requires a proper study of all factors."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('250732166217104957221890141696821454069')">Upvote</button>
          <span class="upvote-counter" id="250732166217104957221890141696821454069-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('250732166217104957221890141696821454069');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="266089895914738890031228952187752591034">
    <div id='266089895914738890031228952187752591034' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">High Niacin Doses to Alleviate Hysterical Feelings</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"Sometimes as much as 500 mg. of niacin can be required to stop a hysterical feeling. The mildly sedative action of magnesium can also have a dramatic effect."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('266089895914738890031228952187752591034')">Upvote</button>
          <span class="upvote-counter" id="266089895914738890031228952187752591034-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('266089895914738890031228952187752591034');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="123892901830376406949076512234571571482">
    <div id='123892901830376406949076512234571571482' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">Cancer&#39;s Effect on Stress Hormones and Nutrient Needs</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"Cancer overstimulates the anti -stress adrenocortical hormones, and usually produces extreme wasting from mobilization of fat and protein; blood sugar and glycogen storage are disturbed. During or after cancer treatment the hypoglycemia diet seems desirable: frequent small feedings, liver (or similar nutrients), magnesium, potassium. Vitamins A, E, C, and pantothenic acid are particularly important in stress, but all nutrients are necessary."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('123892901830376406949076512234571571482')">Upvote</button>
          <span class="upvote-counter" id="123892901830376406949076512234571571482-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('123892901830376406949076512234571571482');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="310897859600761217809964819645658484700">
    <div id='310897859600761217809964819645658484700' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">Nutrient Needs in Stress Resistance and Recovery</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"Stress apparently increases a persons need for all nutrients including calories and protein. The vitamins most commonly used for resisting stress are A, C, E, and pantothenic acid. The minerals magnesium, calcium, potassium and zinc can help in the first stages of stress, and sodium supplements may be needed in the last extreme stage of stress when the adrenals have been exhausted."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('310897859600761217809964819645658484700')">Upvote</button>
          <span class="upvote-counter" id="310897859600761217809964819645658484700-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('310897859600761217809964819645658484700');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="195721391658688818867423309340012360552">
    <div id='195721391658688818867423309340012360552' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">Dietary and Nutritional Recommendations for Managing Stress-Related Mineral Disturbances</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"The adrenal hormones and mineral metabolism are disturbed in stress, whether the cause is a disorganized style of life, or the injury of surgery. The diet should include about 90 grams of protein (in frequent feedings), eggs as a source of sulfur (needed to synthesize joint lubricants, for example), and should keep the ratio of magnesium to calcium high (as with vegetables, bran, fruit), and the phosphate intake low (this would include using green leaves in place of some meat, as well as using cheese). Vitamins C, E, and pantothenic acid are needed in especially large amount in stress. Vitamins A and B2 are also essential for production of the anti-stress hormones. Inositol is known to protect biological materials from many kinds of damage, and might have this effect in arthritis, but I dont know of any research in this particular application."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('195721391658688818867423309340012360552')">Upvote</button>
          <span class="upvote-counter" id="195721391658688818867423309340012360552-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('195721391658688818867423309340012360552');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="252093983373649453375052559482240211772">
    <div id='252093983373649453375052559482240211772' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">The Benefits of Magnesium Carbonate for Nerve Stability</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"Magnesium carbonate is very useful for stabilizing nerves and muscles while raising the energy level: one gram a day of magnesium is a reasonable amount,"</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('252093983373649453375052559482240211772')">Upvote</button>
          <span class="upvote-counter" id="252093983373649453375052559482240211772-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('252093983373649453375052559482240211772');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="130515108671382437288345148683689537938">
    <div id='130515108671382437288345148683689537938' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">Link Between High Cholesterol, Hypothyroidism, and Heart Attacks</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"High cholesterol usually indicates low thyroid function. When thyroid is low, cholesterol isnt converted efficiently into progesterone. The real cause of heart attacks seems to be hypothyroidism and its effects, including loss of magnesium."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('130515108671382437288345148683689537938')">Upvote</button>
          <span class="upvote-counter" id="130515108671382437288345148683689537938-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('130515108671382437288345148683689537938');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="32746115683547639938486060658446427223">
    <div id='32746115683547639938486060658446427223' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">Estrogen&#39;s Contribution to Heart Attacks and Magnesium Deficiency</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"estrogen causes, rather than cures, heart attacks. It causes a magnesium deficiency, which promotes clotting"</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('32746115683547639938486060658446427223')">Upvote</button>
          <span class="upvote-counter" id="32746115683547639938486060658446427223-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('32746115683547639938486060658446427223');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="136310320072882802461896996230725864078">
    <div id='136310320072882802461896996230725864078' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">Magnesium Deficiency and Its Role in Abnormal Fat Metabolism and Heart Disease</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"magnesium deficiency also promotes abnormal fat metabolism, contributing to heart disease."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('136310320072882802461896996230725864078')">Upvote</button>
          <span class="upvote-counter" id="136310320072882802461896996230725864078-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('136310320072882802461896996230725864078');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="57339690916696742056898156676863523315">
    <div id='57339690916696742056898156676863523315' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">Magnesium&#39;s Role in Blood Clot Prevention and Vascular Health</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"Magnesium acts against calcium (and estrogen) in the clotting system, can prevent spasms of blood vessels, and can spare oxygen."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('57339690916696742056898156676863523315')">Upvote</button>
          <span class="upvote-counter" id="57339690916696742056898156676863523315-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('57339690916696742056898156676863523315');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="134709787421938234096284681316567609699">
    <div id='134709787421938234096284681316567609699' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">Clinical Study Links Magnesium Deficiency to Heart Disease</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"There are several reasons to suspect that a magnesium deficiency is often involved in heart disease; in a clinical study, for example, injected magnesium sulphate helped in angina pectoris and coronary thrombosis, and tended to lower blood lipids."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('134709787421938234096284681316567609699')">Upvote</button>
          <span class="upvote-counter" id="134709787421938234096284681316567609699-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('134709787421938234096284681316567609699');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="171557187822961643613551277136127746667">
    <div id='171557187822961643613551277136127746667' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">Magnesium&#39;s Role in Lowering Cholesterol and Preventing Clots</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"Numerous studies have found that a high magnesium intake is associated with low blood cholesterol levels. Magnesium also opposes clot formation and vascular spasm, which can be promoted by an excess of calcium."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('171557187822961643613551277136127746667')">Upvote</button>
          <span class="upvote-counter" id="171557187822961643613551277136127746667-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('171557187822961643613551277136127746667');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="121154499531097621355863226142064367777">
    <div id='121154499531097621355863226142064367777' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">Nutrient Importance for Mitochondrial Function and Aging</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"n old age, the walls of blood vessels tend to become hardened with calcium. In at least some tissues, it is known that calcification begins in degenerating mitochondria, and mitochondria tend to deteriorate in aging tissue. Nutrients such as iodine, vitamin E, magnesium and vitamin B2 are especially important for maintaining the function of the mitochondria, which produce most of our energy."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('121154499531097621355863226142064367777')">Upvote</button>
          <span class="upvote-counter" id="121154499531097621355863226142064367777-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('121154499531097621355863226142064367777');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="55441756080887278088269264689402066051">
    <div id='55441756080887278088269264689402066051' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">The Interplay of Stress, Immune Function, and Lipid Metabolism with Phagocytosis</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"Stress, the immune system, and lipid metabolism have complex interactions. For example, a fat, triolein, is known to stimulate phagocytosis, as does magnesium;"</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('55441756080887278088269264689402066051')">Upvote</button>
          <span class="upvote-counter" id="55441756080887278088269264689402066051-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('55441756080887278088269264689402066051');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="255489302871119193762484043809383480447">
    <div id='255489302871119193762484043809383480447' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">Magnesium Chloride&#39;s Effect on White Blood Cell Phagocytosis</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"P. Delbet used physiological magnesium chloride (12.1 grams per liter) to stimulate phagocytosis in white blood cells. The activity was more than doubled by injection of 150 cc. of this solution into a dog, or by application to cells in vitro."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('255489302871119193762484043809383480447')">Upvote</button>
          <span class="upvote-counter" id="255489302871119193762484043809383480447-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('255489302871119193762484043809383480447');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="259921429086666664805165269212264030498">
    <div id='259921429086666664805165269212264030498' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">Magnesium Carbonate&#39;s Potential to Improve Sleep Quality</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"Sometimes a few hundred milligrams of magnesium carbonate per day (or a spoonful of epsom salts, if this dose is divided into several parts to avoid the laxative effect) will immediately make it possible to sleep normally."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('259921429086666664805165269212264030498')">Upvote</button>
          <span class="upvote-counter" id="259921429086666664805165269212264030498-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('259921429086666664805165269212264030498');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="16714849965157678499653490093136372210">
    <div id='16714849965157678499653490093136372210' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">Honey and Milk&#39;s Benefits for Liver Glycogen</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"Two or three tablespoonfuls of honey in a glass of milk will provide some magnesium, as well as sugar to increase the livers stored glycogen"</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('16714849965157678499653490093136372210')">Upvote</button>
          <span class="upvote-counter" id="16714849965157678499653490093136372210-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('16714849965157678499653490093136372210');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="78950692302843079630992367929602333508">
    <div id='78950692302843079630992367929602333508' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">Vitamin B1&#39;s Rapid Impact on Irritability and Mental Clarity</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"A peculiar kind of irritability, sometimes with a sense of having your head in a kind of cloud, is often a result of a vitamin B1 deficiency. If that is the cause, it will clear up within a few minutes after taking the vitamin. Magnesium deficiency is another common cause of irritability."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('78950692302843079630992367929602333508')">Upvote</button>
          <span class="upvote-counter" id="78950692302843079630992367929602333508-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('78950692302843079630992367929602333508');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="20452205398565392805101970127234865967">
    <div id='20452205398565392805101970127234865967' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">Tooth Sensitivity as an Indicator of Nutrient Deficiencies</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"Teeth that are sensitive to heat or cold suggest a deficiency of calcium, magnesium, or vitamin D."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('20452205398565392805101970127234865967')">Upvote</button>
          <span class="upvote-counter" id="20452205398565392805101970127234865967-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('20452205398565392805101970127234865967');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="193897256251618923175888902690130804890">
    <div id='193897256251618923175888902690130804890' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">Nutritional Therapy and Hormonal Support for Abnormal Pap Smears</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"Many women with abnormal Pap smears, even with a biopsy showing the so-called carcinoma in situ, have returned to normal in just two months with a diet including the following: 90 grams of protein, 500 mg. of magnesium as the chloride, 100,000 units of vitamin A, 400 units of vitamin E, 5 mg. of folic acid, 100 mg. of pantothenic acid, 100 mg. of B6, 100 mg. of niacinamide, and 500 mg. of vitamin C, with thyroid and progesterone as needed. Liver should be eaten twice a week. Some of the women apply vitamin A directly to the cervix."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('193897256251618923175888902690130804890')">Upvote</button>
          <span class="upvote-counter" id="193897256251618923175888902690130804890-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('193897256251618923175888902690130804890');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="83829325260644360333187186832153422899">
    <div id='83829325260644360333187186832153422899' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">Nutritional Needs Altered by Estrogen for Blood Sugar Maintenance and Pregnancy Health</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"Vitamin E, vitamin A, and magnesium are other nutrients that help to maintain blood sugar. Vitamin B12 is needed to use vitamin A. Folic acid, vitamin B6, and zinc are depleted by elevated estrogen and are especially important for healthy pregnancy. Too much copper can lower blood sugar; too much iron can destroy vitamin E, and vitamin E deficiency can lead to jaundice, which can affect the babys brain."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('83829325260644360333187186832153422899')">Upvote</button>
          <span class="upvote-counter" id="83829325260644360333187186832153422899-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('83829325260644360333187186832153422899');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="162749308034182876021780585424047649502">
    <div id='162749308034182876021780585424047649502' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">American Dietary Habits Leading to Bone and Tooth Deterioration</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"Nearly all Americans have porous, weakened bones and teeth by the time they are 50, because of the large amount of meat eaten in relation to other foods. When excess phosphate (from meat or wheat germ, for example) is eaten, calcium and magnesium are removed from the teeth and bones to be excreted with the phosphate."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('162749308034182876021780585424047649502')">Upvote</button>
          <span class="upvote-counter" id="162749308034182876021780585424047649502-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('162749308034182876021780585424047649502');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="165153325974225840855096595090649276828">
    <div id='165153325974225840855096595090649276828' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">Milk Improves Calcium to Phosphorus Ratio but Lacks Magnesium</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"Using a large amount of milk improves the ratio of calcium to phosphorus, but doesnt supply enough magnesium to prevent tooth decay, heart trouble, and cramps."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('165153325974225840855096595090649276828')">Upvote</button>
          <span class="upvote-counter" id="165153325974225840855096595090649276828-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('165153325974225840855096595090649276828');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="328181120691922997391602540317609635119">
    <div id='328181120691922997391602540317609635119' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">Stability of ATP and Magnesium&#39;s Role</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"ATP is more stable than many chemists realize — it is only a lack of magnesium or an excess of calcium which destabilizes its molecular structure. This seems to be involved in the sedative and anti -cramp actions of magnesium."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- Nutrition For Women </p>
        <button class="upvote-button" onclick="upvote('328181120691922997391602540317609635119')">Upvote</button>
          <span class="upvote-counter" id="328181120691922997391602540317609635119-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('328181120691922997391602540317609635119');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>


<div class="quote"  data-upvotes="0" data-quote-id="30540939412014254401264129884522373881">
    <div id='30540939412014254401264129884522373881' class="quote-container" style="margin: 10px; padding: 5px; background-color: #f9f9f9; border-left: 4px solid #5a5a5a;">
        <b style="font-style: italic; color: #333;">Parathyroid Hormone&#39;s Role and Effects in Aging</b>
        <p style="margin-bottom: 10px; font-size: 18px; color: #555;">"Phosphate, which predominates in grains, beans, nuts, meats, and fish, increases our production of parathyroid hormone, while calcium and magnesium inhibit its production. This hormone, which increases with age, suppresses immunity, and in excess it causes insomnia, seizures, dementia, psychosis, cancer, heart disease, respiratory distress and pulmonary hypertension, osteoporosis, sarcopenia, histamine release, inflammation and soft tissue calcification, and many other problems."</p>
        <p style="font-size: 16px; text-align: right; color: #777;">- September 2017 - Ray Peat&#39;s Newsletter</p>
        <button class="upvote-button" onclick="upvote('30540939412014254401264129884522373881')">Upvote</button>
          <span class="upvote-counter" id="30540939412014254401264129884522373881-count">0</span> upvotes
          <button class="btn btn-primary" onclick="copyLinkToClipboard('30540939412014254401264129884522373881');">Copy Link to Quote</button>
    </div>
    
    <hr style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));">
</div>
</p>

  </div>  
</div>


    </main>
    <footer>
      <footer class="footer fixed-bottom bg-dark">

    

  

  
  
  <script src="../js/bundle.min.js" defer></script>
      <script src="../js/main.f8356cbfc3b51bb24c286205b62461b46aaa5a219dac170a24f1692c6ff4154a.js" integrity="sha256-&#43;DVsv8O1G7JMKGIFtiRhtGqqWiGdrBcKJPFpLG/0FUo=" crossorigin="anonymous"></script>
</footer>
    </footer>
  </div>

  <script defer type="module">
    
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.1.0/firebase-app.js';
    import { getFirestore, doc, onSnapshot, setDoc, updateDoc, increment, getDocs, collection, serverTimestamp, addDoc } from 'https://www.gstatic.com/firebasejs/9.1.0/firebase-firestore.js';
    import { getAuth, signInAnonymously, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/9.1.0/firebase-auth.js';


    const firebaseConfig = {
      apiKey: "AIzaSyBNTOHPQHCasjzKwje2P78-q6p1hsXQkW4",
      authDomain: "ray-peat-explained.firebaseapp.com",
      projectId: "ray-peat-explained",
      storageBucket: "ray-peat-explained.appspot.com",
      messagingSenderId: "791071522728",
      appId: "1:791071522728:web:3df2e0f7e4c0b66d4a679d"
    };


    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    async function signInAnonymouslyAndUpvote(upvote_id) {
      try {
        
        const userCredential = await signInAnonymously(auth);
        const user = userCredential.user;

        
        if (user) {
          console.log(`User is signed in anonymously with uid: ${user.uid}`);

          
          const upvoteData = {
            anonymousUserId: user.uid,
            upvote_id: upvote_id,
            timeOfUpvote: serverTimestamp(),
          };

          
          const docRef = await addDoc(collection(db, "upvotes"), upvoteData);
          console.log("Document written with ID: ", docRef.id);
        } else {
          console.log("User sign-in failed");
        }
      } catch (error) {
        const errorCode = error.code;
        const errorMessage = error.message;
        console.error(`Error code: ${errorCode}, Message: ${errorMessage}`);
      }
    }

    
    function setUpQuoteListener(quoteId) {
      const quoteRef = doc(db, "quotes", quoteId);

      onSnapshot(quoteRef, (docSnapshot) => {
        const upvotesSpan = document.getElementById(`${quoteId}-count`);
        if (docSnapshot.exists()) {
          upvotesSpan.textContent = docSnapshot.data().upvotes;
        } else {
          
          setDoc(quoteRef, { upvotes: 0 })
            .then(() => { upvotesSpan.textContent = "0"; })
            .catch((error) => {
              console.error("Error creating document: ", error);
            });
        }
      });
    }

    
    function upvote(quoteId) {
      const quoteRef = doc(db, "quotes", quoteId);

      
      updateDoc(quoteRef, {
        upvotes: increment(1)
      }).catch((error) => {
        console.error("Error updating document: ", error);
      });

      signInAnonymouslyAndUpvote(quoteId).catch((error) => {
        console.error("Error updating document II: ", error);
      });

    }

    
    window.upvote = upvote;

    
    document.addEventListener('DOMContentLoaded', () => {
      
      const quoteContainers = document.querySelectorAll('.quote-container');

      
      quoteContainers.forEach(container => {
        const quoteId = container.id;
        setUpQuoteListener(quoteId);
      });
    });

    document.getElementById("sort-by-popularity").addEventListener('click', async () => {
      try {
        
        const querySnapshot = await getDocs(collection(db, 'quotes'));
        const upvotesMap = new Map();  

        querySnapshot.forEach(doc => {
          
          upvotesMap.set(doc.id, doc.data().upvotes);
        });

        
        const quoteElems = document.querySelectorAll('.quote');

        
        quoteElems.forEach(quoteElem => {
          const quoteId = quoteElem.getAttribute('data-quote-id');
          const upvotes = upvotesMap.get(quoteId) || 0; 
          quoteElem.setAttribute('data-upvotes', upvotes);
        });

        
        const quoteArray = Array.from(quoteElems);
        quoteArray.sort((a, b) => {
          return b.getAttribute('data-upvotes') - a.getAttribute('data-upvotes');
        });

        
        const quotesContainer = document.getElementById('quotesContainer');
        quotesContainer.innerHTML = ''; 

        
        quoteArray.forEach(quote => {
          quotesContainer.appendChild(quote);
        });
      } catch (err) {
        console.error('Error fetching upvotes: ', err);
      }
    });

    window.copyLinkToClipboard = function copyLinkToClipboard(id) {
      
      const urlWithHash = `${window.location.href.split('#')[0]}#${id}`;
    
      
      navigator.clipboard.writeText(urlWithHash).then(() => {
        
      }).catch(err => {
        console.error("Could not copy text: ", err);
      });
    }

    window.highlightDiv=  function highlightDiv(hash) {
      
      document.querySelectorAll('.highlight-quote').forEach((el) => {
        el.classList.remove('highlight-quote');
      });
    
      
      if (hash !== '') {
        const id = hash.replace('#', '');
        const divToHighlight = document.getElementById(id);
        if (divToHighlight) {
          divToHighlight.classList.add('highlight-quote');
          console.log("Quote selected")
    
          
          divToHighlight.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      }
    }
    
    
    window.addEventListener('hashchange', () => window.highlightDiv(window.location.hash));
    window.addEventListener('DOMContentLoaded', () => window.highlightDiv(window.location.hash));
    
  </script>

</body>

</html>